<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Offcanvas Add To Cart</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<div class="container mt-4">
  <h2>Products</h2>

  <!-- Product 1 -->
  <div class="card p-3 mb-3">
    <h5>Mobile</h5>
    <p>Price: â‚¹10000</p>
    <button class="btn btn-primary" onclick="pushcartitems('Mobile', 10000, 'https://via.placeholder.com/100')">
      Add to Cart
    </button>
  </div>

  <!-- Product 2 -->
  <div class="card p-3 mb-3">
    <h5>Laptop</h5>
    <p>Price: â‚¹50000</p>
    <button class="btn btn-danger px-4 rounded-pill" onclick="pushcartitems('Laptop', 50000, 'https://via.placeholder.com/100')">
      ADD TO CART
    </button>
  </div>

  <!-- Cart Button -->
  <button class="btn btn-success" data-bs-toggle="offcanvas" data-bs-target="#cartCanvas">
    Cart (<span id="cartCount">0</span>)
  </button>
</div>

<!-- ðŸ›’ Offcanvas Cart -->
<div class="offcanvas offcanvas-end" id="cartCanvas">
  <div class="offcanvas-header">
    <h5>Your Cart</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
  </div>

  <div class="offcanvas-body">
    <ul id="cartItems" class="list-group mb-3"></ul>
    <h5>Total: â‚¹<span id="totalPrice">0</span></h5>
  </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
  // ðŸ”¹ Cart array
  let cart = [];

  // ðŸ”¹ Add item to cart
  function pushcartitems(name, price, image) {
    var product = {
      name: name,
      price: price,
      link: image
    };

    cart.push(product); // Add item to cart
    document.getElementById("cartCount").innerText = cart.length; // Update cart count
    showCartItems(); // Update offcanvas UI
  }

  // ðŸ”¹ Show items in offcanvas + total price
  function showCartItems() {
    var cartBox = document.getElementById("cartItems");
    var totalBox = document.getElementById("totalPrice");

    cartBox.innerHTML = ""; // Clear old items
    let total = 0;

    cart.forEach(function(item, index) {
      total += item.price;

      cartBox.innerHTML += `
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div class="d-flex align-items-center">
            <img src="${item.link}" style="width:50px; height:50px; object-fit:cover;" class="rounded me-2">
            <span>${item.name} - â‚¹${item.price}</span>
          </div>
          <button class="btn btn-sm btn-danger" onclick="removeItem(${index})">X</button>
        </li>
      `;
    });

    totalBox.innerText = total;
  }

  // ðŸ”¹ Remove item from cart
  function removeItem(index) {
    cart.splice(index, 1); // Remove from array
    document.getElementById("cartCount").innerText = cart.length; // Update count
    showCartItems(); // Refresh UI
  }
</script>

</body>
</html>

